---
layout: default
title: 20. DUMP를 피하기 위한 TRY CATCH문
parent: abapstudy
nav_order: 20
---
# 20. DUMP를 피하기 위한 TRY CATCH문

```abap
FORM SALV USING P_DISPLAY.
  DATA : LO_SALV_TAB TYPE REF TO CL_SALV_TABLE.

  DATA : LO_COLUMNS TYPE REF TO CL_SALV_COLUMNS_TABLE,
         LO_COLUMN TYPE REF TO CL_SALV_COLUMN.

  DATA : ORF_1 TYPE REF TO CX_ROOT.
  DATA : TXT_1 TYPE STRING.

  CALL METHOD CL_SALV_TABLE=>FACTORY
    IMPORTING
      R_SALV_TABLE = LO_SALV_TAB
    CHANGING
      T_TABLE      = P_DISPLAY.

  TRY .
      LO_COLUMNS = LO_SALV_TAB->GET_COLUMNS( ).

      LO_COLUMN = LO_COLUMNS->GET_COLUMN( 'ZCODE' ).
      LO_COLUMN->SET_LONG_TEXT( '코드값' ).
      LO_COLUMN->SET_MEDIUM_TEXT( '코드값' ).
      LO_COLUMN->SET_SHORT_TEXT( '코드값' ).

      LO_COLUMNS->SET_OPTIMIZE( ABAP_TRUE ).

      LO_SALV_TAB->DISPLAY( ).
    CATCH CX_SY_ZERODIVIDE INTO ORF_1.
      TXT_1 = ORF_1->GET_TEXT( ).
    CATCH CX_ROOT INTO ORF_1.
      TXT_1 = ORF_1->GET_TEXT( ).
  ENDTRY.
ENDFORM.                    " SALV
```

## SQL
```abap
TRY .

EXEC SQL.
  DELETE FROM sapout.BOM WHERE REMARK_DC='{ KTJ }'
ENDEXEC.
"INSERT
EXEC SQL.
  INSERT INTO sapout.BOM
              (ITEMPARENT_CD, ITEMCHILD_CD, BOM_SQ, JUST_QT, USE_YN, REMARK_DC)
         VALUES (125, 13, 1, 1, 1, '{ FFFF }')
ENDEXEC.

CATCH CX_SY_NATIVE_SQL_ERROR INTO LX_EXEC. "덤프 안뜨게 하기 위함
  LV_MSG = LX_EXEC->GET_TEXT(  ).
  MESSAGE LV_MSG TYPE 'S' DISPLAY LIKE 'E'.
ENDTRY.
```
