---
layout: default
title: 20. DUMP를 피하기 위한 TRY CATCH문
parent: abapstudy
nav_order: 20
---
# 20. DUMP를 피하기 위한 TRY CATCH문

```abap
  DATA : LO_SALV_TAB TYPE REF TO CL_SALV_TABLE.

  DATA : LO_COLUMNS TYPE REF TO CL_SALV_COLUMNS_TABLE,
         LO_COLUMN TYPE REF TO CL_SALV_COLUMN_TABLE.

  DATA : ORF_1 TYPE REF TO CX_ROOT.

  CALL METHOD CL_SALV_TABLE=>FACTORY
    IMPORTING
      R_SALV_TABLE = LO_SALV_TAB
    CHANGING
      T_TABLE      = GT_DISPLAY2.

  TRY .
      DEFINE _SALV_FCAT_MAC.
        LO_COLUMN ?= LO_COLUMNS->GET_COLUMN( &1 ).
        LO_COLUMN->SET_LONG_TEXT( &2 ).
      END-OF-DEFINITION.

      _SALV_FCAT_MAC 'ZCODE'    '코드값'.
      _SALV_FCAT_MAC 'CARRID'   '항공사'.
      _SALV_FCAT_MAC 'CARRNAME' '항공사 이름'.
      _SALV_FCAT_MAC 'CONNID'   '운항연결 ID'.
      _SALV_FCAT_MAC 'CITYFROM' '출발지'.
      _SALV_FCAT_MAC 'CITYTO'   '도착지'.
      _SALV_FCAT_MAC 'AIRPTO'   '도착 공항 이름'.
    CATCH CX_SY_ZERODIVIDE INTO ORF_1.
      MESSAGE 'ERROR1' TYPE 'S' DISPLAY LIKE 'E'.
    CATCH CX_ROOT INTO ORF_1.
      MESSAGE 'ERROR2' TYPE 'S' DISPLAY LIKE 'E'.
  ENDTRY.

  LO_COLUMNS = LO_SALV_TAB->GET_COLUMNS( ).
  LO_COLUMNS->SET_OPTIMIZE( ABAP_TRUE ).

  LO_SALV_TAB->DISPLAY( ).
```

## SQL
```abap
TRY .

EXEC SQL.
  DELETE FROM sapout.BOM WHERE REMARK_DC='{ KTJ }'
ENDEXEC.
"INSERT
EXEC SQL.
  INSERT INTO sapout.BOM
              (ITEMPARENT_CD, ITEMCHILD_CD, BOM_SQ, JUST_QT, USE_YN, REMARK_DC)
         VALUES (125, 13, 1, 1, 1, '{ FFFF }')
ENDEXEC.

CATCH CX_SY_NATIVE_SQL_ERROR INTO LX_EXEC. "덤프 안뜨게 하기 위함
  LV_MSG = LX_EXEC->GET_TEXT(  ).
  MESSAGE LV_MSG TYPE 'S' DISPLAY LIKE 'E'.
ENDTRY.
```
