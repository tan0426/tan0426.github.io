---
layout: default
title: JOIN, FOR ALL ENTRIES IN구문 정리
parent: abapstudy
nav_order: 6
---
# JOIN, FOR ALL ENTRIES IN구문 정리

```abap
SELECT ZTTEST_215_HR~ZCODE ZTTEST_215_HR~ZNAME ZTTEST_215_UNI~ZMAJOR
  INTO CORRESPONDING FIELDS OF TABLE GT_DATA7
  FROM ZTTEST_215_HR
  INNER JOIN ZTTEST_215_UNI
  ON ZTTEST_215_HR~ZCODE = ZTTEST_215_UNI~ZCODE.
  
SELECT HR~ZCODE HR~ZNAME UNI~ZMAJOR
  INTO CORRESPONDING FIELDS OF TABLE GT_DATA7
  FROM ZTTEST_215_HR AS HR
  JOIN ZTTEST_215_UNI AS UNI
  ON HR~ZCODE = UNI~ZCODE.
  
*CL_DEMO_OUTPUT=>DISPLAY( GT_DATA7 ).

DATA : BEGIN OF GS_DATA8,
        ZCODE TYPE ZTTEST_215_HR-ZCODE,
        ZNAME TYPE ZTTEST_215_HR_ZNAME,
        ZMAJOR TYPE ZTTEST_215_UNI_ZMAJOR,
        ZTOEIC TYPE ZTTEST_215_COM-ZTOEIC,
       END OF GS_DATA8.
DATA : GT_DATA8 LIKE TABLE OF GS_DATA8.

SELECT HR~ZCODE HR~ZNAME UNI~ZMAJOR COM~ZTOEIC
  INTO CORRESPONDING FIELDS OF TABLE GT_DATA8
  FROM ZTTEST_215_HR AS HR
  JOIN ZTTEST_215_UNI AS UNI
  ON HR~ZCODE = UNI~ZCODE
  JOIN ZTTEST_215_COM AS COM
  ON HR~ZCODE = COM~ZCODE.
  
CL_DEMO_OUTPUT=>DISPLAY( GT_DATA8 ).
```

```abap
DATA : BEGIN OF GS_DATA7,
        ZCODE LIKE ZTTEST_215_HR-ZCODE,
        ZNAME LIKE ZTTEST_215_HR-ZNAME,
        ZMAJOR LIKE ZTTEST_215_UNI-ZMAJOR,
      END OF GS_DATA7.
DATA : GT_DATA7 LIKE TABLE OF GS_DATA7.

DATA : GS_HR LIKE GS_DATA7,
       GT_HR LIKE TABLE OF GS_DATA7.

DATA : BEGIN OF GS_UNI,
        ZCODE TYPE ZTTEST_215_HR-ZCODE,
        ZMAJOR TYPE ZTTEST_215_UNI-ZMAJOR,
       END OF GS_UNI.
DATA : GT_UNI LIKE TABLE OF GS_UNI.

SELECT ZCODE ZNAME
  INTO CORRESPONDING FIELDS OF TABLE GT_HR
  FROM ZTTEST_215_HR.

SELECT ZCODE ZMAJOR
  INTO CORRESPONDING FIELDS OF TABLE GT_UNI
  FROM ZTTEST_215_UNI
  
SELECT HR~ZCODE HR~ZNAME UNI~ZMAJOR
  INTO CORRESPONDING FIELDS OF TABLE GT_DATA7
  FROM ZTTEST_215_HR AS HR
  LEFT OUTER JOIN ZTTEST_215_UNI AS UNI
  ON HR_ZCODE = UNI~ZCODE.
  
CL_DEMO_OUTPUT=>DISPLAY( GT_DATA7 ).
```

```abap
DATA : BEGIN OF GS_PROMOTION,
        ZGENDER LIKE ZTTEST_215_HR-ZGENDER,
        ZHOBBY LIKE ZTTEST_215_HR-ZHOBBY,
       END OF GS_PROMOTION.
DATA : GT_PROMOTION LIKE TABLE OF GS_PROMOTION.

GS_PROMOTION-ZGENDER = '남'.
GS_PROMOTION-ZHOBBY = '탁구'.
APPEND GS_PROMOTION TO GT_PROMOTION.

GS_PROMOTION-ZGENDER = '여'.
GS_PROMOTION-ZHOBBY = '독서'.
APPEND GS_PROMOTION TO GT_PROMOTION.

"조건이 두가지여서 RANGES를 쓸 수가 없다.
"한개씩 남 OR 여 OR 탁구 OR 독서가 되어버려서 불가능.

DATA : GT_DATA10 LIKE ZTTEST_215_HR OCCRS 0.

SELECT *
  INTO TABLE GT_DATA10
  FROM ZTTEST_215_HR
  FOR ALL ENTRIES IN GT_PROMOTION
  WHERE ZGENDER = GT_PROMOTION-ZGENDER
  AND ZHOBBY = GT_PROMOTION-ZHOBBY.
  
CL_DEMO_OUTPUT=>DISPLAY( GT_DATA10 ).
```
